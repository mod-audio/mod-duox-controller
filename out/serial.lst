   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"serial.c"
  12              		.text
  13              		.align	1
  14              		.syntax unified
  15              		.thumb
  16              		.thumb_func
  17              		.fpu softvfp
  19              	uart_transmit:
  20              		@ args = 0, pretend = 0, frame = 16
  21              		@ frame_needed = 0, uses_anonymous_args = 0
  22 0000 30B5     		push	{r4, r5, lr}
  23 0002 85B0     		sub	sp, sp, #20
  24 0004 0546     		mov	r5, r0
  25 0006 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
  26 0008 43B1     		cbz	r3, .L10
  27 000a 012B     		cmp	r3, #1
  28 000c 2FD0     		beq	.L11
  29 000e 022B     		cmp	r3, #2
  30 0010 2FD0     		beq	.L12
  31 0012 032B     		cmp	r3, #3
  32 0014 284C     		ldr	r4, .L22
  33 0016 18BF     		it	ne
  34 0018 0024     		movne	r4, #0
  35 001a 00E0     		b	.L2
  36              	.L10:
  37 001c 274C     		ldr	r4, .L22+4
  38              	.L2:
  39 001e 0022     		movs	r2, #0
  40 0020 0121     		movs	r1, #1
  41 0022 2046     		mov	r0, r4
  42 0024 FFF7FEFF 		bl	UART_IntConfig
  43              	.L3:
  44 0028 2046     		mov	r0, r4
  45 002a FFF7FEFF 		bl	UART_CheckBusy
  46 002e 0128     		cmp	r0, #1
  47 0030 FAD0     		beq	.L3
  48 0032 6B7A     		ldrb	r3, [r5, #9]	@ zero_extendqisi2
  49 0034 23B1     		cbz	r3, .L4
  50 0036 95F82830 		ldrb	r3, [r5, #40]	@ zero_extendqisi2
  51 003a E3B9     		cbnz	r3, .L18
  52              	.L5:
  53 003c 0023     		movs	r3, #0
  54 003e 6B72     		strb	r3, [r5, #9]
  55              	.L4:
  56 0040 1022     		movs	r2, #16
  57 0042 6946     		mov	r1, sp
  58 0044 286A     		ldr	r0, [r5, #32]
  59 0046 FFF7FEFF 		bl	ringbuff_read
  60 004a 0246     		mov	r2, r0
  61 004c F8B9     		cbnz	r0, .L19
  62              	.L6:
  63 004e 286A     		ldr	r0, [r5, #32]
  64 0050 FFF7FEFF 		bl	ringbuff_is_empty
  65 0054 08B3     		cbz	r0, .L20
  66              	.L7:
  67 0056 2046     		mov	r0, r4
  68 0058 FFF7FEFF 		bl	UART_CheckBusy
  69 005c 0128     		cmp	r0, #1
  70 005e FAD0     		beq	.L7
  71 0060 95F82830 		ldrb	r3, [r5, #40]	@ zero_extendqisi2
  72 0064 FBB9     		cbnz	r3, .L21
  73              	.L9:
  74 0066 0123     		movs	r3, #1
  75 0068 6B72     		strb	r3, [r5, #9]
  76              	.L1:
  77 006a 05B0     		add	sp, sp, #20
  78              		@ sp needed
  79 006c 30BD     		pop	{r4, r5, pc}
  80              	.L11:
  81 006e 144C     		ldr	r4, .L22+8
  82 0070 D5E7     		b	.L2
  83              	.L12:
  84 0072 144C     		ldr	r4, .L22+12
  85 0074 D3E7     		b	.L2
  86              	.L18:
  87 0076 95F82A30 		ldrb	r3, [r5, #42]	@ zero_extendqisi2
  88 007a 0121     		movs	r1, #1
  89 007c 9940     		lsls	r1, r1, r3
  90 007e 95F82900 		ldrb	r0, [r5, #41]	@ zero_extendqisi2
  91 0082 FFF7FEFF 		bl	GPIO_SetValue
  92 0086 3220     		movs	r0, #50
  93 0088 FFF7FEFF 		bl	delay_us
  94 008c D6E7     		b	.L5
  95              	.L19:
  96 008e 0023     		movs	r3, #0
  97 0090 6946     		mov	r1, sp
  98 0092 2046     		mov	r0, r4
  99 0094 FFF7FEFF 		bl	UART_Send
 100 0098 D9E7     		b	.L6
 101              	.L20:
 102 009a 0122     		movs	r2, #1
 103 009c 1146     		mov	r1, r2
 104 009e 2046     		mov	r0, r4
 105 00a0 FFF7FEFF 		bl	UART_IntConfig
 106 00a4 E1E7     		b	.L1
 107              	.L21:
 108 00a6 95F82A30 		ldrb	r3, [r5, #42]	@ zero_extendqisi2
 109 00aa 0121     		movs	r1, #1
 110 00ac 9940     		lsls	r1, r1, r3
 111 00ae 95F82900 		ldrb	r0, [r5, #41]	@ zero_extendqisi2
 112 00b2 FFF7FEFF 		bl	GPIO_ClearValue
 113 00b6 D6E7     		b	.L9
 114              	.L23:
 115              		.align	2
 116              	.L22:
 117 00b8 00C00940 		.word	1074380800
 118 00bc 00C00040 		.word	1073790976
 119 00c0 00000140 		.word	1073807360
 120 00c4 00800940 		.word	1074364416
 122              		.align	1
 123              		.syntax unified
 124              		.thumb
 125              		.thumb_func
 126              		.fpu softvfp
 128              	uart_handler:
 129              		@ args = 0, pretend = 0, frame = 16
 130              		@ frame_needed = 0, uses_anonymous_args = 0
 131 00c8 0028     		cmp	r0, #0
 132 00ca 71D0     		beq	.L45
 133 00cc F0B5     		push	{r4, r5, r6, r7, lr}
 134 00ce 85B0     		sub	sp, sp, #20
 135 00d0 0446     		mov	r4, r0
 136 00d2 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 137 00d4 43B1     		cbz	r3, .L35
 138 00d6 012B     		cmp	r3, #1
 139 00d8 16D0     		beq	.L36
 140 00da 022B     		cmp	r3, #2
 141 00dc 16D0     		beq	.L37
 142 00de 032B     		cmp	r3, #3
 143 00e0 344D     		ldr	r5, .L52
 144 00e2 18BF     		it	ne
 145 00e4 0025     		movne	r5, #0
 146 00e6 00E0     		b	.L26
 147              	.L35:
 148 00e8 334D     		ldr	r5, .L52+4
 149              	.L26:
 150 00ea 2846     		mov	r0, r5
 151 00ec FFF7FEFF 		bl	UART_GetIntId
 152 00f0 00F00E07 		and	r7, r0, #14
 153 00f4 062F     		cmp	r7, #6
 154 00f6 0BD0     		beq	.L48
 155 00f8 00F00600 		and	r0, r0, #6
 156 00fc 0428     		cmp	r0, #4
 157 00fe 1CD0     		beq	.L49
 158              	.L29:
 159 0100 022F     		cmp	r7, #2
 160 0102 51D0     		beq	.L50
 161              	.L24:
 162 0104 05B0     		add	sp, sp, #20
 163              		@ sp needed
 164 0106 F0BD     		pop	{r4, r5, r6, r7, pc}
 165              	.L36:
 166 0108 2C4D     		ldr	r5, .L52+8
 167 010a EEE7     		b	.L26
 168              	.L37:
 169 010c 2C4D     		ldr	r5, .L52+12
 170 010e ECE7     		b	.L26
 171              	.L48:
 172 0110 2846     		mov	r0, r5
 173 0112 FFF7FEFF 		bl	UART_GetLineStatus
 174 0116 10F09E06 		ands	r6, r0, #158
 175 011a F3D0     		beq	.L24
 176 011c 10F0880F 		tst	r0, #136
 177 0120 04D1     		bne	.L51
 178              	.L28:
 179 0122 3146     		mov	r1, r6
 180 0124 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 181 0126 FFF7FEFF 		bl	serial_error
 182 012a EBE7     		b	.L24
 183              	.L51:
 184 012c 0023     		movs	r3, #0
 185 012e 1022     		movs	r2, #16
 186 0130 6946     		mov	r1, sp
 187 0132 2846     		mov	r0, r5
 188 0134 FFF7FEFF 		bl	UART_Receive
 189 0138 F3E7     		b	.L28
 190              	.L49:
 191 013a 0023     		movs	r3, #0
 192 013c A372     		strb	r3, [r4, #10]
 193 013e 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 194 0140 43B1     		cbz	r3, .L39
 195 0142 012B     		cmp	r3, #1
 196 0144 2CD0     		beq	.L40
 197 0146 022B     		cmp	r3, #2
 198 0148 2CD0     		beq	.L41
 199 014a 032B     		cmp	r3, #3
 200 014c 1948     		ldr	r0, .L52
 201 014e 18BF     		it	ne
 202 0150 0020     		movne	r0, #0
 203 0152 00E0     		b	.L30
 204              	.L39:
 205 0154 1848     		ldr	r0, .L52+4
 206              	.L30:
 207 0156 0023     		movs	r3, #0
 208 0158 0722     		movs	r2, #7
 209 015a 6946     		mov	r1, sp
 210 015c FFF7FEFF 		bl	UART_Receive
 211 0160 0646     		mov	r6, r0
 212 0162 0246     		mov	r2, r0
 213 0164 6946     		mov	r1, sp
 214 0166 E069     		ldr	r0, [r4, #28]
 215 0168 FFF7FEFF 		bl	ringbuff_write
 216 016c 0546     		mov	r5, r0
 217 016e 8642     		cmp	r6, r0
 218 0170 0CD9     		bls	.L31
 219              	.L33:
 220 0172 636A     		ldr	r3, [r4, #36]
 221 0174 0BB1     		cbz	r3, .L32
 222 0176 2046     		mov	r0, r4
 223 0178 9847     		blx	r3
 224              	.L32:
 225 017a 721B     		subs	r2, r6, r5
 226 017c 0DEB0501 		add	r1, sp, r5
 227 0180 E069     		ldr	r0, [r4, #28]
 228 0182 FFF7FEFF 		bl	ringbuff_write
 229 0186 0544     		add	r5, r5, r0
 230 0188 AE42     		cmp	r6, r5
 231 018a F2D8     		bhi	.L33
 232              	.L31:
 233 018c 0C2F     		cmp	r7, #12
 234 018e B7D1     		bne	.L29
 235 0190 0123     		movs	r3, #1
 236 0192 A372     		strb	r3, [r4, #10]
 237 0194 636A     		ldr	r3, [r4, #36]
 238 0196 002B     		cmp	r3, #0
 239 0198 B4D0     		beq	.L24
 240 019a 2046     		mov	r0, r4
 241 019c 9847     		blx	r3
 242 019e B1E7     		b	.L24
 243              	.L40:
 244 01a0 0648     		ldr	r0, .L52+8
 245 01a2 D8E7     		b	.L30
 246              	.L41:
 247 01a4 0648     		ldr	r0, .L52+12
 248 01a6 D6E7     		b	.L30
 249              	.L50:
 250 01a8 2046     		mov	r0, r4
 251 01aa FFF729FF 		bl	uart_transmit
 252 01ae A9E7     		b	.L24
 253              	.L45:
 254 01b0 7047     		bx	lr
 255              	.L53:
 256 01b2 00BF     		.align	2
 257              	.L52:
 258 01b4 00C00940 		.word	1074380800
 259 01b8 00C00040 		.word	1073790976
 260 01bc 00000140 		.word	1073807360
 261 01c0 00800940 		.word	1074364416
 263              		.align	1
 264              		.global	serial_init
 265              		.syntax unified
 266              		.thumb
 267              		.thumb_func
 268              		.fpu softvfp
 270              	serial_init:
 271              		@ args = 0, pretend = 0, frame = 16
 272              		@ frame_needed = 0, uses_anonymous_args = 0
 273 01c4 F0B5     		push	{r4, r5, r6, r7, lr}
 274 01c6 85B0     		sub	sp, sp, #20
 275 01c8 0446     		mov	r4, r0
 276 01ca 424B     		ldr	r3, .L64
 277 01cc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 278 01ce 3BB9     		cbnz	r3, .L55
 279 01d0 404B     		ldr	r3, .L64
 280 01d2 0022     		movs	r2, #0
 281 01d4 5A60     		str	r2, [r3, #4]
 282 01d6 9A60     		str	r2, [r3, #8]
 283 01d8 DA60     		str	r2, [r3, #12]
 284 01da 1A61     		str	r2, [r3, #16]
 285 01dc 0122     		movs	r2, #1
 286 01de 1A70     		strb	r2, [r3]
 287              	.L55:
 288 01e0 627B     		ldrb	r2, [r4, #13]	@ zero_extendqisi2
 289 01e2 217B     		ldrb	r1, [r4, #12]	@ zero_extendqisi2
 290 01e4 E07A     		ldrb	r0, [r4, #11]	@ zero_extendqisi2
 291 01e6 FFF7FEFF 		bl	PINSEL_SetPinFunc
 292 01ea 227C     		ldrb	r2, [r4, #16]	@ zero_extendqisi2
 293 01ec E17B     		ldrb	r1, [r4, #15]	@ zero_extendqisi2
 294 01ee A07B     		ldrb	r0, [r4, #14]	@ zero_extendqisi2
 295 01f0 FFF7FEFF 		bl	PINSEL_SetPinFunc
 296 01f4 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 297 01f6 022B     		cmp	r3, #2
 298 01f8 4FD0     		beq	.L57
 299 01fa 032B     		cmp	r3, #3
 300 01fc 50D0     		beq	.L58
 301 01fe 012B     		cmp	r3, #1
 302 0200 0CBF     		ite	eq
 303 0202 0625     		moveq	r5, #6
 304 0204 0525     		movne	r5, #5
 305 0206 344E     		ldr	r6, .L64+4
 306 0208 344A     		ldr	r2, .L64+8
 307 020a 012B     		cmp	r3, #1
 308 020c 18BF     		it	ne
 309 020e 1646     		movne	r6, r2
 310              	.L56:
 311 0210 02A8     		add	r0, sp, #8
 312 0212 FFF7FEFF 		bl	UART_ConfigStructInit
 313 0216 6368     		ldr	r3, [r4, #4]
 314 0218 0293     		str	r3, [sp, #8]
 315 021a 02A9     		add	r1, sp, #8
 316 021c 3046     		mov	r0, r6
 317 021e FFF7FEFF 		bl	UART_Init
 318 0222 01A8     		add	r0, sp, #4
 319 0224 FFF7FEFF 		bl	UART_FIFOConfigStructInit
 320 0228 0227     		movs	r7, #2
 321 022a 8DF80770 		strb	r7, [sp, #7]
 322 022e 01A9     		add	r1, sp, #4
 323 0230 3046     		mov	r0, r6
 324 0232 FFF7FEFF 		bl	UART_FIFOConfig
 325 0236 0121     		movs	r1, #1
 326 0238 3046     		mov	r0, r6
 327 023a FFF7FEFF 		bl	UART_TxCmd
 328 023e 0122     		movs	r2, #1
 329 0240 0021     		movs	r1, #0
 330 0242 3046     		mov	r0, r6
 331 0244 FFF7FEFF 		bl	UART_IntConfig
 332 0248 0122     		movs	r2, #1
 333 024a 3946     		mov	r1, r7
 334 024c 3046     		mov	r0, r6
 335 024e FFF7FEFF 		bl	UART_IntConfig
 336 0252 237A     		ldrb	r3, [r4, #8]	@ zero_extendqisi2
 337 0254 DB00     		lsls	r3, r3, #3
 338 0256 DBB2     		uxtb	r3, r3
 339 0258 214A     		ldr	r2, .L64+12
 340 025a 5119     		adds	r1, r2, r5
 341 025c 81F80033 		strb	r3, [r1, #768]
 342 0260 EDB2     		uxtb	r5, r5
 343 0262 0126     		movs	r6, #1
 344 0264 06FA05F5 		lsl	r5, r6, r5
 345 0268 1560     		str	r5, [r2]
 346 026a 6069     		ldr	r0, [r4, #20]
 347 026c 3044     		add	r0, r0, r6
 348 026e FFF7FEFF 		bl	ringbuff_create
 349 0272 E061     		str	r0, [r4, #28]
 350 0274 A069     		ldr	r0, [r4, #24]
 351 0276 3044     		add	r0, r0, r6
 352 0278 FFF7FEFF 		bl	ringbuff_create
 353 027c 2062     		str	r0, [r4, #32]
 354 027e 0023     		movs	r3, #0
 355 0280 6362     		str	r3, [r4, #36]
 356 0282 6672     		strb	r6, [r4, #9]
 357 0284 A372     		strb	r3, [r4, #10]
 358 0286 94F82830 		ldrb	r3, [r4, #40]	@ zero_extendqisi2
 359 028a 63B9     		cbnz	r3, .L63
 360              	.L60:
 361 028c 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 362 028e 114B     		ldr	r3, .L64
 363 0290 03EB8203 		add	r3, r3, r2, lsl #2
 364 0294 5C60     		str	r4, [r3, #4]
 365 0296 05B0     		add	sp, sp, #20
 366              		@ sp needed
 367 0298 F0BD     		pop	{r4, r5, r6, r7, pc}
 368              	.L57:
 369 029a 0725     		movs	r5, #7
 370 029c 114E     		ldr	r6, .L64+16
 371 029e B7E7     		b	.L56
 372              	.L58:
 373 02a0 0825     		movs	r5, #8
 374 02a2 114E     		ldr	r6, .L64+20
 375 02a4 B4E7     		b	.L56
 376              	.L63:
 377 02a6 94F82A10 		ldrb	r1, [r4, #42]	@ zero_extendqisi2
 378 02aa 3246     		mov	r2, r6
 379 02ac 06FA01F1 		lsl	r1, r6, r1
 380 02b0 94F82900 		ldrb	r0, [r4, #41]	@ zero_extendqisi2
 381 02b4 FFF7FEFF 		bl	GPIO_SetDir
 382 02b8 94F82830 		ldrb	r3, [r4, #40]	@ zero_extendqisi2
 383 02bc 002B     		cmp	r3, #0
 384 02be E5D0     		beq	.L60
 385 02c0 94F82A30 		ldrb	r3, [r4, #42]	@ zero_extendqisi2
 386 02c4 3146     		mov	r1, r6
 387 02c6 9940     		lsls	r1, r1, r3
 388 02c8 94F82900 		ldrb	r0, [r4, #41]	@ zero_extendqisi2
 389 02cc FFF7FEFF 		bl	GPIO_ClearValue
 390 02d0 DCE7     		b	.L60
 391              	.L65:
 392 02d2 00BF     		.align	2
 393              	.L64:
 394 02d4 00000000 		.word	.LANCHOR0
 395 02d8 00000140 		.word	1073807360
 396 02dc 00C00040 		.word	1073790976
 397 02e0 00E100E0 		.word	-536813312
 398 02e4 00800940 		.word	1074364416
 399 02e8 00C00940 		.word	1074380800
 401              		.align	1
 402              		.global	serial_send
 403              		.syntax unified
 404              		.thumb
 405              		.thumb_func
 406              		.fpu softvfp
 408              	serial_send:
 409              		@ args = 0, pretend = 0, frame = 0
 410              		@ frame_needed = 0, uses_anonymous_args = 0
 411 02ec 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 412 02f0 0446     		mov	r4, r0
 413 02f2 40B1     		cbz	r0, .L71
 414 02f4 0128     		cmp	r0, #1
 415 02f6 2BD0     		beq	.L72
 416 02f8 0228     		cmp	r0, #2
 417 02fa 2BD0     		beq	.L73
 418 02fc 0328     		cmp	r0, #3
 419 02fe 1948     		ldr	r0, .L80
 420 0300 18BF     		it	ne
 421 0302 0020     		movne	r0, #0
 422 0304 00E0     		b	.L67
 423              	.L71:
 424 0306 1848     		ldr	r0, .L80+4
 425              	.L67:
 426 0308 184B     		ldr	r3, .L80+8
 427 030a 03EB8403 		add	r3, r3, r4, lsl #2
 428 030e 5C68     		ldr	r4, [r3, #4]
 429 0310 24B3     		cbz	r4, .L75
 430 0312 1546     		mov	r5, r2
 431 0314 0F46     		mov	r7, r1
 432 0316 0022     		movs	r2, #0
 433 0318 0121     		movs	r1, #1
 434 031a FFF7FEFF 		bl	UART_IntConfig
 435 031e 2A46     		mov	r2, r5
 436 0320 3946     		mov	r1, r7
 437 0322 206A     		ldr	r0, [r4, #32]
 438 0324 FFF7FEFF 		bl	ringbuff_write
 439 0328 8046     		mov	r8, r0
 440 032a 2E1A     		subs	r6, r5, r0
 441 032c 2046     		mov	r0, r4
 442 032e FFF767FE 		bl	uart_transmit
 443              	.L69:
 444 0332 8EB1     		cbz	r6, .L79
 445              	.L70:
 446 0334 206A     		ldr	r0, [r4, #32]
 447 0336 FFF7FEFF 		bl	ringbuff_is_full
 448 033a 0028     		cmp	r0, #0
 449 033c FAD1     		bne	.L70
 450 033e 3246     		mov	r2, r6
 451 0340 07EB0801 		add	r1, r7, r8
 452 0344 206A     		ldr	r0, [r4, #32]
 453 0346 FFF7FEFF 		bl	ringbuff_write
 454 034a 361A     		subs	r6, r6, r0
 455 034c 8044     		add	r8, r8, r0
 456 034e F0E7     		b	.L69
 457              	.L72:
 458 0350 0748     		ldr	r0, .L80+12
 459 0352 D9E7     		b	.L67
 460              	.L73:
 461 0354 0748     		ldr	r0, .L80+16
 462 0356 D7E7     		b	.L67
 463              	.L79:
 464 0358 2846     		mov	r0, r5
 465 035a 00E0     		b	.L66
 466              	.L75:
 467 035c 0020     		movs	r0, #0
 468              	.L66:
 469 035e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 470              	.L81:
 471 0362 00BF     		.align	2
 472              	.L80:
 473 0364 00C00940 		.word	1074380800
 474 0368 00C00040 		.word	1073790976
 475 036c 00000000 		.word	.LANCHOR0
 476 0370 00000140 		.word	1073807360
 477 0374 00800940 		.word	1074364416
 479              		.align	1
 480              		.global	serial_read
 481              		.syntax unified
 482              		.thumb
 483              		.thumb_func
 484              		.fpu softvfp
 486              	serial_read:
 487              		@ args = 0, pretend = 0, frame = 0
 488              		@ frame_needed = 0, uses_anonymous_args = 0
 489 0378 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 490 037a 0346     		mov	r3, r0
 491 037c 40B1     		cbz	r0, .L85
 492 037e 0128     		cmp	r0, #1
 493 0380 20D0     		beq	.L86
 494 0382 0228     		cmp	r0, #2
 495 0384 20D0     		beq	.L87
 496 0386 0328     		cmp	r0, #3
 497 0388 114E     		ldr	r6, .L91
 498 038a 18BF     		it	ne
 499 038c 0026     		movne	r6, #0
 500 038e 00E0     		b	.L83
 501              	.L85:
 502 0390 104E     		ldr	r6, .L91+4
 503              	.L83:
 504 0392 1148     		ldr	r0, .L91+8
 505 0394 00EB8300 		add	r0, r0, r3, lsl #2
 506 0398 4768     		ldr	r7, [r0, #4]
 507 039a BFB1     		cbz	r7, .L89
 508 039c 1546     		mov	r5, r2
 509 039e 0C46     		mov	r4, r1
 510 03a0 0022     		movs	r2, #0
 511 03a2 1146     		mov	r1, r2
 512 03a4 3046     		mov	r0, r6
 513 03a6 FFF7FEFF 		bl	UART_IntConfig
 514 03aa 2A46     		mov	r2, r5
 515 03ac 2146     		mov	r1, r4
 516 03ae F869     		ldr	r0, [r7, #28]
 517 03b0 FFF7FEFF 		bl	ringbuff_read
 518 03b4 0446     		mov	r4, r0
 519 03b6 0122     		movs	r2, #1
 520 03b8 0021     		movs	r1, #0
 521 03ba 3046     		mov	r0, r6
 522 03bc FFF7FEFF 		bl	UART_IntConfig
 523              	.L82:
 524 03c0 2046     		mov	r0, r4
 525 03c2 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 526              	.L86:
 527 03c4 054E     		ldr	r6, .L91+12
 528 03c6 E4E7     		b	.L83
 529              	.L87:
 530 03c8 054E     		ldr	r6, .L91+16
 531 03ca E2E7     		b	.L83
 532              	.L89:
 533 03cc 0024     		movs	r4, #0
 534 03ce F7E7     		b	.L82
 535              	.L92:
 536              		.align	2
 537              	.L91:
 538 03d0 00C00940 		.word	1074380800
 539 03d4 00C00040 		.word	1073790976
 540 03d8 00000000 		.word	.LANCHOR0
 541 03dc 00000140 		.word	1073807360
 542 03e0 00800940 		.word	1074364416
 544              		.align	1
 545              		.global	serial_read_until
 546              		.syntax unified
 547              		.thumb
 548              		.thumb_func
 549              		.fpu softvfp
 551              	serial_read_until:
 552              		@ args = 0, pretend = 0, frame = 0
 553              		@ frame_needed = 0, uses_anonymous_args = 0
 554 03e4 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 555 03e8 0446     		mov	r4, r0
 556 03ea 40B1     		cbz	r0, .L96
 557 03ec 0128     		cmp	r0, #1
 558 03ee 23D0     		beq	.L97
 559 03f0 0228     		cmp	r0, #2
 560 03f2 23D0     		beq	.L98
 561 03f4 0328     		cmp	r0, #3
 562 03f6 134E     		ldr	r6, .L102
 563 03f8 18BF     		it	ne
 564 03fa 0026     		movne	r6, #0
 565 03fc 00E0     		b	.L94
 566              	.L96:
 567 03fe 124E     		ldr	r6, .L102+4
 568              	.L94:
 569 0400 1248     		ldr	r0, .L102+8
 570 0402 00EB8400 		add	r0, r0, r4, lsl #2
 571 0406 4468     		ldr	r4, [r0, #4]
 572 0408 D4B1     		cbz	r4, .L100
 573 040a 1F46     		mov	r7, r3
 574 040c 1546     		mov	r5, r2
 575 040e 8846     		mov	r8, r1
 576 0410 0022     		movs	r2, #0
 577 0412 1146     		mov	r1, r2
 578 0414 3046     		mov	r0, r6
 579 0416 FFF7FEFF 		bl	UART_IntConfig
 580 041a 3B46     		mov	r3, r7
 581 041c 2A46     		mov	r2, r5
 582 041e 4146     		mov	r1, r8
 583 0420 E069     		ldr	r0, [r4, #28]
 584 0422 FFF7FEFF 		bl	ringbuff_read_until
 585 0426 0446     		mov	r4, r0
 586 0428 0122     		movs	r2, #1
 587 042a 0021     		movs	r1, #0
 588 042c 3046     		mov	r0, r6
 589 042e FFF7FEFF 		bl	UART_IntConfig
 590              	.L93:
 591 0432 2046     		mov	r0, r4
 592 0434 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 593              	.L97:
 594 0438 054E     		ldr	r6, .L102+12
 595 043a E1E7     		b	.L94
 596              	.L98:
 597 043c 054E     		ldr	r6, .L102+16
 598 043e DFE7     		b	.L94
 599              	.L100:
 600 0440 0024     		movs	r4, #0
 601 0442 F6E7     		b	.L93
 602              	.L103:
 603              		.align	2
 604              	.L102:
 605 0444 00C00940 		.word	1074380800
 606 0448 00C00040 		.word	1073790976
 607 044c 00000000 		.word	.LANCHOR0
 608 0450 00000140 		.word	1073807360
 609 0454 00800940 		.word	1074364416
 611              		.align	1
 612              		.global	serial_set_callback
 613              		.syntax unified
 614              		.thumb
 615              		.thumb_func
 616              		.fpu softvfp
 618              	serial_set_callback:
 619              		@ args = 0, pretend = 0, frame = 0
 620              		@ frame_needed = 0, uses_anonymous_args = 0
 621              		@ link register save eliminated.
 622 0458 034B     		ldr	r3, .L106
 623 045a 03EB8000 		add	r0, r3, r0, lsl #2
 624 045e 4368     		ldr	r3, [r0, #4]
 625 0460 03B1     		cbz	r3, .L104
 626 0462 5962     		str	r1, [r3, #36]
 627              	.L104:
 628 0464 7047     		bx	lr
 629              	.L107:
 630 0466 00BF     		.align	2
 631              	.L106:
 632 0468 00000000 		.word	.LANCHOR0
 634              		.align	1
 635              		.global	UART0_IRQHandler
 636              		.syntax unified
 637              		.thumb
 638              		.thumb_func
 639              		.fpu softvfp
 641              	UART0_IRQHandler:
 642              		@ args = 0, pretend = 0, frame = 0
 643              		@ frame_needed = 0, uses_anonymous_args = 0
 644 046c 08B5     		push	{r3, lr}
 645 046e 024B     		ldr	r3, .L110
 646 0470 5868     		ldr	r0, [r3, #4]
 647 0472 FFF729FE 		bl	uart_handler
 648 0476 08BD     		pop	{r3, pc}
 649              	.L111:
 650              		.align	2
 651              	.L110:
 652 0478 00000000 		.word	.LANCHOR0
 654              		.align	1
 655              		.global	UART1_IRQHandler
 656              		.syntax unified
 657              		.thumb
 658              		.thumb_func
 659              		.fpu softvfp
 661              	UART1_IRQHandler:
 662              		@ args = 0, pretend = 0, frame = 0
 663              		@ frame_needed = 0, uses_anonymous_args = 0
 664 047c 08B5     		push	{r3, lr}
 665 047e 024B     		ldr	r3, .L114
 666 0480 9868     		ldr	r0, [r3, #8]
 667 0482 FFF721FE 		bl	uart_handler
 668 0486 08BD     		pop	{r3, pc}
 669              	.L115:
 670              		.align	2
 671              	.L114:
 672 0488 00000000 		.word	.LANCHOR0
 674              		.align	1
 675              		.global	UART2_IRQHandler
 676              		.syntax unified
 677              		.thumb
 678              		.thumb_func
 679              		.fpu softvfp
 681              	UART2_IRQHandler:
 682              		@ args = 0, pretend = 0, frame = 0
 683              		@ frame_needed = 0, uses_anonymous_args = 0
 684 048c 08B5     		push	{r3, lr}
 685 048e 024B     		ldr	r3, .L118
 686 0490 D868     		ldr	r0, [r3, #12]
 687 0492 FFF719FE 		bl	uart_handler
 688 0496 08BD     		pop	{r3, pc}
 689              	.L119:
 690              		.align	2
 691              	.L118:
 692 0498 00000000 		.word	.LANCHOR0
 694              		.align	1
 695              		.global	UART3_IRQHandler
 696              		.syntax unified
 697              		.thumb
 698              		.thumb_func
 699              		.fpu softvfp
 701              	UART3_IRQHandler:
 702              		@ args = 0, pretend = 0, frame = 0
 703              		@ frame_needed = 0, uses_anonymous_args = 0
 704 049c 08B5     		push	{r3, lr}
 705 049e 024B     		ldr	r3, .L122
 706 04a0 1869     		ldr	r0, [r3, #16]
 707 04a2 FFF711FE 		bl	uart_handler
 708 04a6 08BD     		pop	{r3, pc}
 709              	.L123:
 710              		.align	2
 711              	.L122:
 712 04a8 00000000 		.word	.LANCHOR0
 714              		.bss
 715              		.align	2
 716              		.set	.LANCHOR0,. + 0
 719              	g_init_instances:
 720 0000 00       		.space	1
 721 0001 000000   		.space	3
 724              	g_serial_instances:
 725 0004 00000000 		.space	16
 725      00000000 
 725      00000000 
 725      00000000 
 726              		.ident	"GCC: (GNU Tools for Arm Embedded Processors 7-2018-q3-update) 7.3.1 20180622 (release) [AR
DEFINED SYMBOLS
                            *ABS*:0000000000000000 serial.c
     /tmp/cc87OB7v.s:13     .text:0000000000000000 $t
     /tmp/cc87OB7v.s:19     .text:0000000000000000 uart_transmit
     /tmp/cc87OB7v.s:117    .text:00000000000000b8 $d
     /tmp/cc87OB7v.s:122    .text:00000000000000c8 $t
     /tmp/cc87OB7v.s:128    .text:00000000000000c8 uart_handler
     /tmp/cc87OB7v.s:258    .text:00000000000001b4 $d
     /tmp/cc87OB7v.s:263    .text:00000000000001c4 $t
     /tmp/cc87OB7v.s:270    .text:00000000000001c4 serial_init
     /tmp/cc87OB7v.s:394    .text:00000000000002d4 $d
     /tmp/cc87OB7v.s:401    .text:00000000000002ec $t
     /tmp/cc87OB7v.s:408    .text:00000000000002ec serial_send
     /tmp/cc87OB7v.s:473    .text:0000000000000364 $d
     /tmp/cc87OB7v.s:479    .text:0000000000000378 $t
     /tmp/cc87OB7v.s:486    .text:0000000000000378 serial_read
     /tmp/cc87OB7v.s:538    .text:00000000000003d0 $d
     /tmp/cc87OB7v.s:544    .text:00000000000003e4 $t
     /tmp/cc87OB7v.s:551    .text:00000000000003e4 serial_read_until
     /tmp/cc87OB7v.s:605    .text:0000000000000444 $d
     /tmp/cc87OB7v.s:611    .text:0000000000000458 $t
     /tmp/cc87OB7v.s:618    .text:0000000000000458 serial_set_callback
     /tmp/cc87OB7v.s:632    .text:0000000000000468 $d
     /tmp/cc87OB7v.s:634    .text:000000000000046c $t
     /tmp/cc87OB7v.s:641    .text:000000000000046c UART0_IRQHandler
     /tmp/cc87OB7v.s:652    .text:0000000000000478 $d
     /tmp/cc87OB7v.s:654    .text:000000000000047c $t
     /tmp/cc87OB7v.s:661    .text:000000000000047c UART1_IRQHandler
     /tmp/cc87OB7v.s:672    .text:0000000000000488 $d
     /tmp/cc87OB7v.s:674    .text:000000000000048c $t
     /tmp/cc87OB7v.s:681    .text:000000000000048c UART2_IRQHandler
     /tmp/cc87OB7v.s:692    .text:0000000000000498 $d
     /tmp/cc87OB7v.s:694    .text:000000000000049c $t
     /tmp/cc87OB7v.s:701    .text:000000000000049c UART3_IRQHandler
     /tmp/cc87OB7v.s:712    .text:00000000000004a8 $d
     /tmp/cc87OB7v.s:715    .bss:0000000000000000 $d
     /tmp/cc87OB7v.s:719    .bss:0000000000000000 g_init_instances
     /tmp/cc87OB7v.s:724    .bss:0000000000000004 g_serial_instances

UNDEFINED SYMBOLS
UART_IntConfig
UART_CheckBusy
ringbuff_read
ringbuff_is_empty
GPIO_SetValue
delay_us
UART_Send
GPIO_ClearValue
UART_GetIntId
UART_GetLineStatus
serial_error
UART_Receive
ringbuff_write
PINSEL_SetPinFunc
UART_ConfigStructInit
UART_Init
UART_FIFOConfigStructInit
UART_FIFOConfig
UART_TxCmd
ringbuff_create
GPIO_SetDir
ringbuff_is_full
ringbuff_read_until
